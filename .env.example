# Crucible Community Edition Configuration
# 
# This file is a template. Copy it to .env and fill in the values.
# OR use the automated setup scripts (scripts/setup.sh / scripts/setup.ps1 / docker-compose.sh) 
# which will automatically generate all required secrets.
#
# IMPORTANT: Never commit .env to version control - it contains sensitive secrets!

# ============================================================================
# REQUIRED - Auto-generated by setup scripts
# ============================================================================
# These variables are automatically generated by scripts/setup.sh, scripts/setup.ps1, or 
# docker-compose.sh wrapper scripts. You typically don't need to set these manually.
#
# If generating manually, use: python3 scripts/generate_secrets.py

# API Key Encryption Key (32+ characters, URL-safe)
# Purpose: Encrypts user API keys stored in the database
# Required: Yes (auto-generated)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# WARNING: If this changes, all encrypted API keys will become unreadable!
API_KEY_ENCRYPTION_KEY=

# Community Edition Authentication Password
# Purpose: Login password for admin@community.local
# Required: Yes (auto-generated as secure random token)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(16))"
# For production: Hash it using: cd service && python -m scripts.hash_password <password>
#   Then replace this value with the generated hash
ROUNDTABLE_COMMUNITY_AUTH_PASSWORD=

# JWT Secret (48+ characters, URL-safe)
# Purpose: Signs JWT authentication tokens
# Required: Yes (auto-generated)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(48))"
ROUNDTABLE_JWT_SECRET=

# JWT Refresh Secret (48+ characters, URL-safe)
# Purpose: Signs JWT refresh tokens for session renewal
# Required: Yes (auto-generated)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(48))"
ROUNDTABLE_JWT_REFRESH_SECRET=

# PostgreSQL Database Username
# Purpose: Database user for PostgreSQL connection
# Required: Yes (auto-generated as 12-char alphanumeric)
# Note: Saved in .env - keep secure for direct database access
POSTGRES_USER=

# PostgreSQL Database Password
# Purpose: Database password for PostgreSQL connection
# Required: Yes (auto-generated as 24-char URL-safe token)
# Note: Saved in .env - keep secure for direct database access
POSTGRES_PASSWORD=

# Redis Authentication Password
# Purpose: Redis password for authentication (Redis requires auth)
# Required: Yes (auto-generated as 32-char URL-safe token)
# Note: Saved in .env - keep secure for Redis access
REDIS_PASSWORD=

# ============================================================================
# OPTIONAL - Provider API Keys
# ============================================================================
# These are optional. Users can also set their own API keys in the Settings 
# page after logging in. Setting them here provides server-side defaults.

# OpenRouter API Key (optional)
# Purpose: Default OpenRouter API key for LLM access
# Required: No (can be set in UI Settings after login)
# Get from: https://openrouter.ai/
# Note: Users can override this with their own key in Settings
ROUNDTABLE_OPENROUTER_API_KEY=

# Eden AI API Key (optional)
# Purpose: Eden AI API key for AI research features
# Required: No (can be set in UI Settings after login)
# Get from: https://www.edenai.co/
# Note: Users can override this with their own key in Settings
ROUNDTABLE_EDEN_AI_API_KEY=

# ============================================================================
# OPTIONAL - LLM Rate Limiting Configuration
# ============================================================================
# Configure rate limiting for LLM API calls to prevent exceeding provider limits.

# Enable Rate Limiting
# Purpose: Enable/disable rate limiting for LLM providers
# Required: No (default: true - rate limiting enabled)
# Values: true or false
# You can change this in .env file if needed.
ROUNDTABLE_ENABLE_RATE_LIMITING=true

# LLM Rate Limit (Tokens Per Minute)
# Purpose: Maximum tokens per minute allowed across all LLM requests
# Required: No (default: 100000)
# Note: Adjust based on your provider's rate limits
ROUNDTABLE_LLM_RATE_LIMIT_TPM=100000

# LLM Rate Limit Window (Seconds)
# Purpose: Time window in seconds for rate limiting calculations
# Required: No (default: 60 - one minute window)
# Note: Typically set to 60 for TPM (tokens per minute) calculations
ROUNDTABLE_LLM_RATE_LIMIT_WINDOW_SECONDS=60
